<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Courses for Bario by add33m</title>
    <link rel="icon" href="barioicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik">
    <link rel="stylesheet" href="stylesheet.css">
  </head>

  <body>
    <span style="float: left;">
      <h1>
        Course lister for Bario by add33m
      </h1>      
    </span>

    <span style="float: right;"> 
      <a href="https://www.github.com/add33m/bario">
        <div class="mainButton">
          GitHub
        </div> 
      </a>
    </span>

    <span style="float: right;"> 
        <a href="builder.html">
          <div class="mainButton">
            Builder
          </div>
        </a>
    </span>

    <div class="course-book">
      <script>
        // Temp! Change this to real JSON later
        var indexJson = [
          {
            "name": "The ol' rumble jumble",
            "creator": "Adam",
            "likes": 69,
            "courseId": 947630,
            "courseData": [[0,1,"bricks"],[2,1,"bricks"],[3,1,"bricks"],[4,1,"bricks"],[5,1,"bricks"],[6,1,"bricks"],[7,1,"bricks"],[8,1,"bricks"],[9,1,"bricks"],[1,1,"bricks"],[10,1,"bricks"],[11,1,"bricks"],[12,1,"bricks"],[13,1,"bricks"],[-208,228,"bricks"],[21,1,"bricks"],[22,1,"bricks"],[24,1,"bricks"],[25,1,"bricks"],[26,1,"bricks"],[27,1,"bricks"],[28,1,"bricks"],[29,1,"bricks"],[23,1,"bricks"],[31,1,"bricks"],[32,1,"bricks"],[33,1,"bricks"],[34,1,"bricks"],[30,1,"bricks"],[35,1,"bricks"],[36,1,"bricks"],[37,1,"bricks"],[38,1,"bricks"],[39,1,"bricks"],[3,5,"mushroom_block"],[8,2,"goomba"],[11,2,"goomba"],[39,2,"block"],[20,1,"block"],[25,2,"block"],[29,2,"goomba"],[33,2,"goomba"],[37,2,"goomba"],[55,1,"bricks"],[56,1,"bricks"],[57,1,"bricks"],[58,1,"bricks"],[59,1,"bricks"],[60,1,"bricks"],[61,1,"bricks"],[44,2,"block"],[47,4,"block"],[44,1,"bricks"],[47,3,"bricks"],[47,2,"bricks"],[47,1,"bricks"],[50,6,"bricks"],[50,5,"bricks"],[50,4,"bricks"],[50,3,"bricks"],[50,2,"bricks"],[50,1,"bricks"],[50,7,"block"],[55,2,"block"],[62,6,"bricks"],[62,7,"bricks"],[62,8,"bricks"],[62,9,"bricks"],[62,5,"block"],[66,1,"block"],[67,1,"bricks"],[68,1,"bricks"],[69,1,"bricks"],[70,1,"bricks"],[71,1,"bricks"],[72,1,"block"],[76,2,"block"],[60,2,"goomba"],[57,2,"goomba"],[79,3,"block"],[82,1,"block"],[83,1,"bricks"],[84,1,"bricks"],[85,1,"bricks"],[86,1,"bricks"],[87,1,"bricks"],[88,1,"bricks"],[89,1,"bricks"],[90,1,"bricks"],[91,1,"bricks"],[92,1,"bricks"],[86,2,"block"],[86,3,"flagpole"],[82,6,"block"],[82,10,"block"],[93,1,"block"],[94,2,"block"],[62,12,"block"],[62,11,"bricks"],[62,10,"bricks"],[53,8,"block"],[57,8,"block"],[54,8,"bricks"],[55,8,"bricks"],[56,8,"bricks"],[61,5,"bricks"],[60,5,"bricks"],[59,5,"bricks"],[58,5,"bricks"],[57,5,"bricks"],[25,3,"goomba"],[56,5,"block"],[62,1,"block"],[61,2,"block"]]
          },
          {
            "name": "testCourse1",
            "creator": "Adam",
            "likes": 45,
            "courseId": 198326,
            "courseData": [[0,1,"bricks"],[1,1,"bricks"],[2,1,"bricks"],[3,1,"bricks"],[4,1,"bricks"],[5,1,"bricks"],[6,1,"bricks"],[7,1,"bricks"],[8,1,"bricks"],[9,1,"bricks"],[10,1,"bricks"],[11,1,"bricks"],[12,1,"bricks"],[13,1,"bricks"],[14,1,"bricks"],[15,1,"bricks"],[16,1,"bricks"],[17,1,"bricks"],[18,1,"bricks"],[22,1,"bricks"],[23,1,"bricks"],[24,1,"bricks"],[25,1,"bricks"],[26,1,"bricks"],[27,1,"bricks"],[28,1,"bricks"],[29,1,"bricks"],[30,2,"block"],[30,1,"bricks"],[31,1,"bricks"],[32,1,"bricks"],[33,1,"bricks"],[34,1,"bricks"],[35,1,"bricks"],[36,1,"bricks"],[36,2,"block"],[36,3,"flagpole"],[30,3,"block"],[30,4,"block"],[29,3,"block"],[29,2,"block"],[28,2,"block"],[31,5,"block"],[31,4,"block"],[31,3,"block"],[31,2,"block"],[32,6,"block"],[32,5,"block"],[32,4,"block"],[32,3,"block"],[32,2,"block"],[37,1,"bricks"],[38,1,"bricks"],[39,1,"bricks"],[40,1,"bricks"],[41,1,"bricks"],[42,2,"block"],[42,1,"bricks"],[19,1,"bricks"],[20,1,"bricks"],[21,1,"bricks"],[6,2,"block"],[18,3,"block"],[18,2,"block"]]
          }
        ];
          
        function playCourse(n) {
          // Set the gamestate to play the map
          let gameState = {
            playingSavedMap: false,
            playingOnlineMap: true,
            validatingMap: false,
            coursePlayed: false,
          };

          localStorage.setItem("currentGameState",JSON.stringify(gameState));
          localStorage.setItem("mapToPlay",JSON.stringify(indexJson[n].courseData));
          window.location.href = "main.html";
        }
        
        for (let i = 0; i < indexJson.length; i++) {
          
          // Flex book entries
          document.write('<div class="course-container">');
          document.write('<div class="course-name course-data">' + indexJson[i]["name"] + '</div>');
          document.write('<div class="course-creator course-data">' + indexJson[i]["creator"] + '</div>');
          document.write('<div class="course-likes">' + indexJson[i]["likes"] + '</div>');
          document.write('<div class="course-id course-data" onclick="playCourse('+i+')">' + indexJson[i]["courseId"] + '</div>'); // If clicked on, play the course
          document.write('</div>');
        }
      </script>

      
      <!-- Template for a course
        <div class="course-container">
          <div class="course-name course-data">Course Name</div>
          <div class="course-creator course-data">Course Creator</div>
          <div class="course-id course-data">123-456</div>
          <div class="course-likes">23</div>
        </div>
      -->

    </div>

  </body>
</html>